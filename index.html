<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExerSync ‚Äî Train ¬∑ Earn ¬∑ Evolve</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg: #0a0f1f;
            --bg-secondary: #000;
            --accent-cyan: #00FFFF;
            --accent-lime: #39FF14;
            --accent-magenta: #FF00FF;
            --card-bg: rgba(255, 255, 255, 0.05);
            --card-border: rgba(255, 255, 255, 0.1);
            --radius: 16px;
            --trans: 0.3s ease;
            --glow-cyan: 0 0 20px rgba(0, 255, 255, 0.6);
            --glow-lime: 0 0 20px rgba(57, 255, 20, 0.6);
            --glow-magenta: 0 0 20px rgba(255, 0, 255, 0.6);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: radial-gradient(ellipse at top, var(--bg), var(--bg-secondary));
            color: #fff;
            overflow-x: hidden;
            min-height: 100vh;
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Header & Navigation */
        header {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: rgba(10, 15, 31, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--card-border);
            animation: slideDown 0.6s ease;
        }

        nav {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            font-weight: 900;
            background: linear-gradient(90deg, var(--accent-cyan), var(--accent-lime));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: var(--glow-cyan);
            cursor: pointer;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: #fff;
            text-decoration: none;
            font-weight: 500;
            transition: var(--trans);
            position: relative;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--accent-cyan);
            text-shadow: var(--glow-cyan);
        }

        .nav-links a.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--accent-cyan);
            box-shadow: var(--glow-cyan);
        }

        .hamburger {
            display: none;
            flex-direction: column;
            gap: 5px;
            cursor: pointer;
            z-index: 1001;
        }

        .hamburger span {
            width: 25px;
            height: 3px;
            background: var(--accent-cyan);
            transition: var(--trans);
            box-shadow: var(--glow-cyan);
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(8px, 8px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -7px);
        }

        /* Sections */
        section {
            min-height: 100vh;
            padding: 5rem 2rem;
            max-width: 1400px;
            margin: 0 auto;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }

        section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        section.hidden {
            display: none;
        }

        h1, h2, h3 {
            font-family: 'Orbitron', sans-serif;
        }

        h2 {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 3rem;
            background: linear-gradient(90deg, var(--accent-cyan), var(--accent-lime));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Cards */
        .card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: var(--radius);
            padding: 2rem;
            backdrop-filter: blur(8px);
            transition: var(--trans);
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-cyan);
            box-shadow: var(--glow-cyan);
        }

        /* Buttons */
        .btn {
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--trans);
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
        }

        .btn-primary {
            background: linear-gradient(90deg, var(--accent-cyan), var(--accent-lime));
            color: #000;
        }

        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: var(--glow-cyan);
        }

        .btn-secondary {
            background: transparent;
            border: 2px solid var(--accent-cyan);
            color: var(--accent-cyan);
        }

        .btn-secondary:hover {
            background: var(--accent-cyan);
            color: #000;
            box-shadow: var(--glow-cyan);
        }

        /* Home Section */
        #home {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .hero h1 {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: glowPulse 2s infinite;
        }

        .hero-subtitle {
            font-size: 1.5rem;
            color: var(--accent-lime);
            margin-bottom: 3rem;
            height: 40px;
        }

        .typing-text::after {
            content: '|';
            animation: blinkCursor 0.7s infinite;
        }

        .info-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            width: 100%;
            margin: 3rem 0;
        }

        .info-card {
            text-align: center;
        }

        .info-card-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .testimonials {
            width: 100%;
            max-width: 800px;
            margin: 3rem auto;
            position: relative;
        }

        .testimonial {
            display: none;
            padding: 2rem;
            text-align: center;
        }

        .testimonial.active {
            display: block;
            animation: fadeInUp 0.6s ease;
        }

        .testimonial-nav {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }

        .testimonial-nav button {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid var(--accent-cyan);
            background: transparent;
            color: var(--accent-cyan);
            cursor: pointer;
            transition: var(--trans);
        }

        .testimonial-nav button:hover {
            background: var(--accent-cyan);
            color: #000;
        }

        .newsletter {
            margin-top: 3rem;
        }

        .newsletter-form {
            display: flex;
            gap: 1rem;
            max-width: 500px;
            margin: 1rem auto;
        }

        .newsletter-form input {
            flex: 1;
            padding: 0.8rem 1.5rem;
            border: 2px solid var(--card-border);
            border-radius: 50px;
            background: var(--card-bg);
            color: #fff;
            font-family: 'Poppins', sans-serif;
        }

        .newsletter-form input:focus {
            outline: none;
            border-color: var(--accent-cyan);
            box-shadow: var(--glow-cyan);
        }

        /* About Section */
        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .team-card {
            perspective: 1000px;
            height: 350px;
        }

        .team-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .team-card:hover .team-card-inner {
            transform: rotateY(180deg);
        }

        .team-card-front,
        .team-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: var(--radius);
            padding: 2rem;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            backdrop-filter: blur(8px);
        }

        .team-card-back {
            transform: rotateY(180deg);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .team-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin: 0 auto 1rem;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-magenta));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
        }

        .progress-bars {
            margin-top: 3rem;
        }

        .progress-item {
            margin-bottom: 1.5rem;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--card-bg);
            border-radius: 10px;
            overflow: hidden;
            margin-top: 0.5rem;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-cyan), var(--accent-lime));
            border-radius: 10px;
            transition: width 1s ease;
            box-shadow: var(--glow-cyan);
        }

        /* Workouts Section */
        .filter-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 0.5rem 1.5rem;
            border: 2px solid var(--card-border);
            border-radius: 50px;
            background: transparent;
            color: #fff;
            cursor: pointer;
            transition: var(--trans);
        }

        .filter-btn.active,
        .filter-btn:hover {
            border-color: var(--accent-lime);
            color: var(--accent-lime);
            box-shadow: var(--glow-lime);
        }

        .workouts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }

        .workout-card {
            position: relative;
        }

        .workout-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: var(--accent-lime);
            color: #000;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        /* Store Section */
        .coin-wallet {
            text-align: center;
            margin-bottom: 2rem;
            font-size: 1.5rem;
            color: var(--accent-lime);
        }

        .coin-icon {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: var(--accent-lime);
            border-radius: 50%;
            margin-right: 0.5rem;
            vertical-align: middle;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }

        .product-img {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-magenta));
            border-radius: var(--radius);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }

        .orders-toggle {
            margin-top: 3rem;
            text-align: center;
        }

        .orders-list {
            margin-top: 1rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .order-item {
            background: var(--card-bg);
            padding: 1rem;
            border-radius: var(--radius);
            border: 1px solid var(--card-border);
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Dashboard Section */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .dashboard-card {
            min-height: 200px;
        }

        .user-profile {
            text-align: center;
        }

        .user-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin: 0 auto 1rem;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-magenta));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            border: 3px solid var(--accent-cyan);
            box-shadow: var(--glow-cyan);
        }

        .xp-bar {
            width: 100%;
            height: 20px;
            background: var(--card-bg);
            border-radius: 10px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .xp-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-lime), var(--accent-cyan));
            border-radius: 10px;
            transition: width 1s ease;
            box-shadow: var(--glow-lime);
        }

        .hydration-tracker {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .water-glass {
            width: 100%;
            aspect-ratio: 1;
            border: 2px solid var(--accent-cyan);
            border-radius: 8px;
            cursor: pointer;
            transition: var(--trans);
            position: relative;
            overflow: hidden;
        }

        .water-glass.filled::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--accent-cyan);
            animation: fillWater 0.5s ease;
        }

        .chart-container {
            position: relative;
            width: 100%;
            height: 300px;
        }

        canvas {
            width: 100%;
            height: 100%;
        }

        /* Nutrition Section */
        .calculator-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--accent-cyan);
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid var(--card-border);
            border-radius: 8px;
            background: var(--card-bg);
            color: #fff;
            font-family: 'Poppins', sans-serif;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--accent-cyan);
            box-shadow: var(--glow-cyan);
        }

        .results {
            margin-top: 1rem;
            padding: 1rem;
            background: var(--card-bg);
            border-radius: var(--radius);
            border: 1px solid var(--accent-lime);
        }

        .result-value {
            font-size: 2rem;
            color: var(--accent-lime);
            font-weight: bold;
        }

        .meal-planner {
            width: 100%;
            overflow-x: auto;
        }

        .meal-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .meal-table th,
        .meal-table td {
            padding: 1rem;
            border: 1px solid var(--card-border);
            text-align: left;
        }

        .meal-table th {
            background: var(--card-bg);
            color: var(--accent-cyan);
        }

        .meal-table td input {
            width: 100%;
            background: transparent;
            border: none;
            color: #fff;
            padding: 0.5rem;
        }

        .meal-table td input:focus {
            outline: 1px solid var(--accent-cyan);
            border-radius: 4px;
        }

        /* Achievements Section */
        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }

        .achievement-badge {
            text-align: center;
            position: relative;
        }

        .badge-ring {
            width: 150px;
            height: 150px;
            margin: 0 auto 1rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            background: conic-gradient(var(--accent-cyan) 0deg, transparent 0deg);
            transition: background 1s ease;
        }

        .badge-ring::before {
            content: '';
            position: absolute;
            width: 130px;
            height: 130px;
            background: var(--bg);
            border-radius: 50%;
        }

        .badge-icon {
            position: relative;
            font-size: 3rem;
            z-index: 1;
        }

        .achievement-badge.unlocked .badge-ring {
            background: conic-gradient(var(--accent-cyan) 360deg, transparent 0deg);
            box-shadow: var(--glow-cyan);
        }

        .achievement-badge.locked {
            opacity: 0.4;
            filter: grayscale(1);
        }

        /* Contact Section */
        .contact-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
        }

        .contact-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .contact-form textarea {
            min-height: 150px;
            padding: 0.8rem;
            border: 2px solid var(--card-border);
            border-radius: 8px;
            background: var(--card-bg);
            color: #fff;
            font-family: 'Poppins', sans-serif;
            resize: vertical;
        }

        .contact-form textarea:focus {
            outline: none;
            border-color: var(--accent-cyan);
            box-shadow: var(--glow-cyan);
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .map-placeholder {
            width: 100%;
            height: 200px;
            background: var(--card-bg);
            border-radius: var(--radius);
            border: 1px solid var(--card-border);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-link {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px solid var(--accent-cyan);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--trans);
        }

        .social-link:hover {
            background: var(--accent-cyan);
            transform: scale(1.1);
            box-shadow: var(--glow-cyan);
        }

        /* Login Section */
        .login-container {
            max-width: 500px;
            margin: 0 auto;
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 2rem;
        }

        .auth-tab {
            flex: 1;
            padding: 1rem;
            background: transparent;
            border: none;
            border-bottom: 2px solid var(--card-border);
            color: #fff;
            cursor: pointer;
            transition: var(--trans);
            font-size: 1rem;
        }

        .auth-tab.active {
            border-bottom-color: var(--accent-cyan);
            color: var(--accent-cyan);
        }

        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .auth-form-content {
            display: none;
        }

        .auth-form-content.active {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            animation: fadeInUp 0.5s ease;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--bg);
            border: 2px solid var(--accent-cyan);
            border-radius: var(--radius);
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            position: relative;
            animation: scaleIn 0.3s ease;
            box-shadow: var(--glow-cyan);
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: transparent;
            border: none;
            color: #fff;
            font-size: 1.5rem;
            cursor: pointer;
        }

        .timer-display {
            font-size: 4rem;
            text-align: center;
            margin: 2rem 0;
            color: var(--accent-lime);
            font-family: 'Orbitron', sans-serif;
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--card-bg);
            border: 2px solid var(--accent-lime);
            border-radius: var(--radius);
            padding: 1rem 1.5rem;
            backdrop-filter: blur(10px);
            z-index: 3000;
            animation: slideInRight 0.5s ease;
            box-shadow: var(--glow-lime);
        }

        .toast.hide {
            animation: slideOutRight 0.5s ease;
        }

        /* Confetti */
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            pointer-events: none;
            z-index: 5000;
        }

        /* Footer */
        footer {
            background: var(--card-bg);
            border-top: 1px solid var(--card-border);
            padding: 2rem;
            text-align: center;
            margin-top: 5rem;
        }

        /* Animations */
        @keyframes glowPulse {
            0%, 100% { text-shadow: 0 0 20px var(--accent-cyan); }
            50% { text-shadow: 0 0 40px var(--accent-cyan), 0 0 60px var(--accent-lime); }
        }

        @keyframes blinkCursor {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes scaleIn {
            from { transform: scale(0.8); }
            to { transform: scale(1); }
        }

        @keyframes slideInRight {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOutRight {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(400px);
                opacity: 0;
            }
        }

        @keyframes slideDown {
            from {
                transform: translateY(-100%);
            }
            to {
                transform: translateY(0);
            }
        }

        @keyframes fillWater {
            from {
                transform: translateY(100%);
            }
            to {
                transform: translateY(0);
            }
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .contact-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                position: fixed;
                top: 0;
                right: -100%;
                width: 70%;
                height: 100vh;
                background: rgba(10, 15, 31, 0.98);
                flex-direction: column;
                padding: 5rem 2rem;
                transition: right 0.5s ease;
                backdrop-filter: blur(10px);
            }

            .nav-links.active {
                right: 0;
            }

            .hamburger {
                display: flex;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero-subtitle {
                font-size: 1.2rem;
            }

            h2 {
                font-size: 2rem;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .calculator-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            nav {
                padding: 1rem;
            }

            section {
                padding: 3rem 1rem;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .info-cards {
                grid-template-columns: 1fr;
            }

            .newsletter-form {
                flex-direction: column;
            }

            .toast {
                bottom: 1rem;
                right: 1rem;
                left: 1rem;
            }
        }

        /* Dev Panel */
        .dev-panel {
            position: fixed;
            bottom: 1rem;
            left: 1rem;
            background: var(--card-bg);
            border: 2px solid var(--accent-magenta);
            border-radius: var(--radius);
            padding: 1rem;
            backdrop-filter: blur(10px);
            z-index: 4000;
            display: none;
            box-shadow: var(--glow-magenta);
        }

        .dev-panel.active {
            display: block;
        }

        .dev-panel h3 {
            color: var(--accent-magenta);
            margin-bottom: 1rem;
        }

        .dev-panel button {
            display: block;
            width: 100%;
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <div id="app">
        <header>
            <nav>
                <div class="logo" onclick="ExerSync.ui.navigateTo('home')">ExerSync</div>
                <ul class="nav-links" id="navLinks">
                    <li><a href="#home" data-page="home">Home</a></li>
                    <li><a href="#about" data-page="about">About</a></li>
                    <li><a href="#workouts" data-page="workouts">Workouts</a></li>
                    <li><a href="#store" data-page="store">Store</a></li>
                    <li><a href="#dashboard" data-page="dashboard">Dashboard</a></li>
                    <li><a href="#nutrition" data-page="nutrition">Nutrition</a></li>
                    <li><a href="#achievements" data-page="achievements">Achievements</a></li>
                    <li><a href="#contact" data-page="contact">Contact</a></li>
                    <li><a href="#login" data-page="login" id="authLink">Login</a></li>
                </ul>
                <div class="hamburger" id="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </nav>
        </header>

        <main>
            <!-- HOME SECTION -->
            <section id="home" data-page="home" class="visible">
                <div class="hero">
                    <h1>ExerSync</h1>
                    <p style="font-size: 1.2rem; margin-bottom: 1rem;">Train ¬∑ Earn ¬∑ Evolve</p>
                    <div class="hero-subtitle">
                        <span class="typing-text"></span>
                    </div>
                    <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                        <button class="btn btn-primary" onclick="ExerSync.ui.navigateTo('login')">Start Training</button>
                        <button class="btn btn-secondary" onclick="ExerSync.ui.navigateTo('store')">Explore Store</button>
                    </div>
                </div>

                <div class="info-cards">
                    <div class="card info-card">
                        <div class="info-card-icon">üéÆ</div>
                        <h3>Play VR</h3>
                        <p>Immersive virtual reality workouts that make fitness fun and engaging.</p>
                    </div>
                    <div class="card info-card">
                        <div class="info-card-icon">üí∞</div>
                        <h3>Earn Coins</h3>
                        <p>Complete workouts and challenges to earn ExerCoins for rewards.</p>
                    </div>
                    <div class="card info-card">
                        <div class="info-card-icon">üéÅ</div>
                        <h3>Redeem Rewards</h3>
                        <p>Use your coins to unlock fitness gear, nutrition plans, and more.</p>
                    </div>
                </div>

                <div class="testimonials">
                    <div class="card">
                        <div class="testimonial active" data-index="0">
                            <p style="font-style: italic; margin-bottom: 1rem;">"ExerSync transformed my fitness journey! The gamification keeps me motivated every single day."</p>
                            <p style="color: var(--accent-cyan);">‚Äî Sarah M.</p>
                        </div>
                        <div class="testimonial" data-index="1">
                            <p style="font-style: italic; margin-bottom: 1rem;">"I've earned enough coins to get amazing gear. This app makes working out actually fun!"</p>
                            <p style="color: var(--accent-cyan);">‚Äî Mike T.</p>
                        </div>
                        <div class="testimonial" data-index="2">
                            <p style="font-style: italic; margin-bottom: 1rem;">"The VR integration is incredible. It feels like I'm in a game while getting fit!"</p>
                            <p style="color: var(--accent-cyan);">‚Äî Lisa K.</p>
                        </div>
                        <div class="testimonial-nav">
                            <button onclick="ExerSync.ui.prevTestimonial()">‚óÄ</button>
                            <button onclick="ExerSync.ui.nextTestimonial()">‚ñ∂</button>
                        </div>
                    </div>
                </div>

                <div class="newsletter">
                    <h3>Join Our Community</h3>
                    <form class="newsletter-form" onsubmit="ExerSync.ui.subscribeNewsletter(event)">
                        <input type="email" placeholder="Enter your email" required id="newsletterEmail">
                        <button type="submit" class="btn btn-primary">Subscribe</button>
                    </form>
                </div>
            </section>

            <!-- ABOUT SECTION -->
            <section id="about" data-page="about" class="hidden">
                <h2>About ExerSync</h2>
                <p style="text-align: center; max-width: 800px; margin: 0 auto 3rem; font-size: 1.1rem;">
                    ExerSync is a revolutionary fitness platform that combines gamification, virtual reality, and real-world rewards to transform your health journey. Our mission is to make fitness accessible, enjoyable, and rewarding for everyone.
                </p>

                <h3 style="text-align: center; margin: 3rem 0 2rem;">Meet Our Team</h3>
                <div class="team-grid">
                    <div class="team-card">
                        <div class="team-card-inner">
                            <div class="team-card-front">
                                <div class="team-avatar">VK</div>
                                <h3>Vikash Kumar</h3>
                                <p style="color: var(--accent-cyan);">Lead Developer</p>
                            </div>
                            <div class="team-card-back">
                                <h3 style="margin-bottom: 1rem;">Vikash Kumar</h3>
                                <p style="margin-bottom: 1rem;">Full-stack developer passionate about creating innovative health tech solutions.</p>
                                <div class="social-links" style="justify-content: center;">
                                    <div class="social-link">üíº</div>
                                    <div class="social-link">üê¶</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="team-card">
                        <div class="team-card-inner">
                            <div class="team-card-front">
                                <div class="team-avatar">SR</div>
                                <h3>Suhana Raj</h3>
                                <p style="color: var(--accent-cyan);">UX Designer</p>
                            </div>
                            <div class="team-card-back">
                                <h3 style="margin-bottom: 1rem;">Suhana Raj</h3>
                                <p style="margin-bottom: 1rem;">Design expert focused on creating intuitive and beautiful user experiences.</p>
                                <div class="social-links" style="justify-content: center;">
                                    <div class="social-link">üíº</div>
                                    <div class="social-link">üé®</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="team-card">
                        <div class="team-card-inner">
                            <div class="team-card-front">
                                <div class="team-avatar">SU</div>
                                <h3>Suryansh</h3>
                                <p style="color: var(--accent-cyan);">VR Specialist</p>
                            </div>
                            <div class="team-card-back">
                                <h3 style="margin-bottom: 1rem;">Suryansh</h3>
                                <p style="margin-bottom: 1rem;">Virtual reality engineer bringing immersive fitness experiences to life.</p>
                                <div class="social-links" style="justify-content: center;">
                                    <div class="social-link">üíº</div>
                                    <div class="social-link">ü•Ω</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="team-card">
                        <div class="team-card-inner">
                            <div class="team-card-front">
                                <div class="team-avatar">DG</div>
                                <h3>Dhairya Goel</h3>
                                <p style="color: var(--accent-cyan);">Fitness Advisor</p>
                            </div>
                            <div class="team-card-back">
                                <h3 style="margin-bottom: 1rem;">Dhairya Goel</h3>
                                <p style="margin-bottom: 1rem;">Certified trainer ensuring all workouts are safe, effective, and scientifically sound.</p>
                                <div class="social-links" style="justify-content: center;">
                                    <div class="social-link">üíº</div>
                                    <div class="social-link">üí™</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="progress-bars">
                    <h3 style="text-align: center; margin-bottom: 2rem;">Our Goals</h3>
                    <div class="progress-item">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span>Innovation in Fitness Tech</span>
                            <span style="color: var(--accent-cyan);">95%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" data-progress="95" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="progress-item">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span>Health Awareness</span>
                            <span style="color: var(--accent-cyan);">88%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" data-progress="88" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="progress-item">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span>AR/VR Research</span>
                            <span style="color: var(--accent-cyan);">92%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" data-progress="92" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- WORKOUTS SECTION -->
            <section id="workouts" data-page="workouts" class="hidden">
                <h2>Workout Library</h2>
                
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="cardio">Cardio</button>
                    <button class="filter-btn" data-filter="strength">Strength</button>
                    <button class="filter-btn" data-filter="yoga">Yoga</button>
                    <button class="filter-btn" data-filter="hiit">HIIT</button>
                </div>

                <div class="workouts-grid" id="workoutsGrid"></div>
            </section>

            <!-- STORE SECTION -->
            <section id="store" data-page="store" class="hidden">
                <h2>ExerStore</h2>
                
                <div class="coin-wallet">
                    <span class="coin-icon"></span>
                    Your Coins: <span id="coinDisplay">0</span>
                </div>

                <div class="products-grid" id="productsGrid"></div>

                <div class="orders-toggle">
                    <button class="btn btn-secondary" onclick="ExerSync.ui.toggleOrders()">View My Orders</button>
                    <div id="ordersList" style="display: none;" class="orders-list"></div>
                </div>
            </section>

            <!-- DASHBOARD SECTION -->
            <section id="dashboard" data-page="dashboard" class="hidden">
                <h2>Dashboard</h2>
                <div id="dashboardContent"></div>
            </section>

            <!-- NUTRITION SECTION -->
            <section id="nutrition" data-page="nutrition" class="hidden">
                <h2>Nutrition Hub</h2>
                
                <div class="calculator-grid">
                    <div class="card">
                        <h3 style="margin-bottom: 1rem;">Calorie Calculator</h3>
                        <div class="form-group">
                            <label>Age</label>
                            <input type="number" id="calcAge" placeholder="25">
                        </div>
                        <div class="form-group">
                            <label>Gender</label>
                            <select id="calcGender">
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Height (cm)</label>
                            <input type="number" id="calcHeight" placeholder="170">
                        </div>
                        <div class="form-group">
                            <label>Weight (kg)</label>
                            <input type="number" id="calcWeight" placeholder="70">
                        </div>
                        <div class="form-group">
                            <label>Activity Level</label>
                            <select id="calcActivity">
                                <option value="1.2">Sedentary</option>
                                <option value="1.375">Lightly Active</option>
                                <option value="1.55">Moderately Active</option>
                                <option value="1.725">Very Active</option>
                                <option value="1.9">Extremely Active</option>
                            </select>
                        </div>
                        <button class="btn btn-primary" onclick="ExerSync.nutrition.calculateCalories()">Calculate</button>
                        <div id="calorieResults" style="display: none;" class="results">
                            <div style="margin-bottom: 1rem;">
                                <strong>BMR:</strong> <span class="result-value" id="bmrValue">0</span> kcal/day
                            </div>
                            <div>
                                <strong>TDEE:</strong> <span class="result-value" id="tdeeValue">0</span> kcal/day
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <h3 style="margin-bottom: 1rem;">BMI Calculator</h3>
                        <div class="form-group">
                            <label>Height (cm)</label>
                            <input type="number" id="bmiHeight" placeholder="170">
                        </div>
                        <div class="form-group">
                            <label>Weight (kg)</label>
                            <input type="number" id="bmiWeight" placeholder="70">
                        </div>
                        <button class="btn btn-primary" onclick="ExerSync.nutrition.calculateBMI()">Calculate BMI</button>
                        <div id="bmiResults" style="display: none;" class="results">
                            <div style="margin-bottom: 1rem;">
                                <strong>BMI:</strong> <span class="result-value" id="bmiValue">0</span>
                            </div>
                            <div id="bmiCategory"></div>
                        </div>
                    </div>
                </div>

                <div class="card" style="margin-top: 2rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3>Weekly Meal Planner</h3>
                        <button class="btn btn-secondary" onclick="ExerSync.nutrition.speakNutritionTip()">üîä Nutrition Tip</button>
                    </div>
                    <div class="meal-planner">
                        <table class="meal-table" id="mealTable">
                            <thead>
                                <tr>
                                    <th>Day</th>
                                    <th>Breakfast</th>
                                    <th>Lunch</th>
                                    <th>Dinner</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                    <button class="btn btn-primary" style="margin-top: 1rem;" onclick="ExerSync.nutrition.saveMealPlan()">Save Meal Plan</button>
                </div>
            </section>

            <!-- ACHIEVEMENTS SECTION -->
            <section id="achievements" data-page="achievements" class="hidden">
                <h2>Achievements</h2>
                <div class="achievements-grid" id="achievementsGrid"></div>
            </section>

            <!-- CONTACT SECTION -->
            <section id="contact" data-page="contact" class="hidden">
                <h2>Contact Us</h2>
                
                <div class="contact-grid">
                    <div class="card">
                        <h3 style="margin-bottom: 1rem;">Send a Message</h3>
                        <form class="contact-form" onsubmit="ExerSync.contact.submitForm(event)">
                            <div class="form-group">
                                <label>Name</label>
                                <input type="text" id="contactName" required>
                            </div>
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" id="contactEmail" required>
                            </div>
                            <div class="form-group">
                                <label>Message</label>
                                <textarea id="contactMessage" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Send Message</button>
                        </form>
                    </div>

                    <div class="contact-info">
                        <div class="card">
                            <h3 style="margin-bottom: 1rem;">Get in Touch</h3>
                            <p style="margin-bottom: 1rem;">üìß support@exersync.com</p>
                            <p style="margin-bottom: 1rem;">üìû +1 (555) 123-4567</p>
                            <p>üìç San Francisco, CA</p>
                            <div class="social-links">
                                <div class="social-link">üìò</div>
                                <div class="social-link">üê¶</div>
                                <div class="social-link">üì∑</div>
                                <div class="social-link">üíº</div>
                            </div>
                        </div>
                        <div class="map-placeholder">
                            <svg width="200" height="100" viewBox="0 0 200 100">
                                <circle cx="100" cy="50" r="40" fill="none" stroke="var(--accent-cyan)" stroke-width="2"/>
                                <path d="M 60 30 Q 100 10, 140 30" fill="none" stroke="var(--accent-lime)" stroke-width="2"/>
                                <path d="M 60 70 Q 100 90, 140 70" fill="none" stroke="var(--accent-lime)" stroke-width="2"/>
                            </svg>
                            <p style="margin-top: 1rem; color: var(--accent-cyan);">üåç Global Reach</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- LOGIN SECTION -->
            <section id="login" data-page="login" class="hidden">
                <div class="login-container">
                    <h2>Welcome Back</h2>
                    
                    <div class="auth-tabs">
                        <button class="auth-tab active" data-tab="login">Login</button>
                        <button class="auth-tab" data-tab="signup">Sign Up</button>
                    </div>

                    <div class="card">
                        <div class="auth-form-content active" id="loginForm">
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" id="loginEmail" required>
                            </div>
                            <div class="form-group">
                                <label>Password</label>
                                <input type="password" id="loginPassword" required>
                            </div>
                            <button class="btn btn-primary" onclick="ExerSync.auth.login()">Login</button>
                        </div>

                        <div class="auth-form-content" id="signupForm">
                            <div class="form-group">
                                <label>Name</label>
                                <input type="text" id="signupName" required>
                            </div>
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" id="signupEmail" required>
                            </div>
                            <div class="form-group">
                                <label>Password</label>
                                <input type="password" id="signupPassword" required>
                            </div>
                            <div class="form-group">
                                <label>Confirm Password</label>
                                <input type="password" id="signupConfirm" required>
                            </div>
                            <button class="btn btn-primary" onclick="ExerSync.auth.signup()">Sign Up</button>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            <p>&copy; 2025 ExerSync. All rights reserved.</p>
            <p style="margin-top: 0.5rem; color: var(--accent-cyan);">Train ¬∑ Earn ¬∑ Evolve</p>
        </footer>
    </div>

    <!-- Modal -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="ExerSync.ui.closeModal()">‚úï</button>
            <div id="modalBody"></div>
        </div>
    </div>

    <!-- Dev Panel -->
    <div class="dev-panel" id="devPanel">
        <h3>Dev Tools</h3>
        <button class="btn btn-secondary" onclick="ExerSync.dev.addCoins(100)">+100 Coins</button>
        <button class="btn btn-secondary" onclick="ExerSync.dev.resetData()">Reset All Data</button>
        <button class="btn btn-secondary" onclick="ExerSync.dev.unlockAll()">Unlock All</button>
    </div>

    <script>
        // ExerSync Main Application
        window.ExerSync = {
            // Data Management
            data: {
                load(key, defaultValue = null) {
                    try {
                        const data = localStorage.getItem(key);
                        return data ? JSON.parse(data) : defaultValue;
                    } catch (e) {
                        return defaultValue;
                    }
                },
                save(key, value) {
                    try {
                        localStorage.setItem(key, JSON.stringify(value));
                        return true;
                    } catch (e) {
                        console.error('Failed to save data:', e);
                        return false;
                    }
                },
                reset() {
                    const keys = ['ex_user', 'ex_session', 'ex_coins', 'ex_xp', 'ex_workouts', 'ex_orders', 'ex_achievements', 'ex_messages', 'ex_emails', 'ex_settings', 'ex_meals'];
                    keys.forEach(key => localStorage.removeItem(key));
                    ExerSync.ui.showToast('All data has been reset');
                    setTimeout(() => location.reload(), 1000);
                }
            },

            // Authentication
            auth: {
                signup() {
                    const name = document.getElementById('signupName').value;
                    const email = document.getElementById('signupEmail').value;
                    const password = document.getElementById('signupPassword').value;
                    const confirm = document.getElementById('signupConfirm').value;

                    if (password !== confirm) {
                        ExerSync.ui.showToast('Passwords do not match!');
                        return;
                    }

                    const user = { name, email, password, joined: new Date().toISOString() };
                    ExerSync.data.save('ex_user', user);
                    ExerSync.data.save('ex_coins', 50); // Welcome bonus
                    ExerSync.data.save('ex_xp', 0);
                    ExerSync.data.save('ex_workouts', []);
                    ExerSync.ui.showToast('Account created! Welcome bonus: 50 coins!');
                    ExerSync.ui.showConfetti();
                    
                    setTimeout(() => {
                        ExerSync.auth.login();
                    }, 1000);
                },

                login() {
                    const email = document.getElementById('loginEmail').value;
                    const password = document.getElementById('loginPassword').value;
                    const user = ExerSync.data.load('ex_user');

                    if (!user) {
                        ExerSync.ui.showToast('No account found. Please sign up!');
                        document.querySelector('[data-tab="signup"]').click();
                        return;
                    }

                    if (user.email === email && user.password === password) {
                        ExerSync.data.save('ex_session', { email, timestamp: Date.now() });
                        ExerSync.ui.showToast(`Welcome back, ${user.name}!`);
                        ExerSync.ui.updateAuthUI();
                        ExerSync.ui.navigateTo('dashboard');
                        
                        // Voice welcome
                        if ('speechSynthesis' in window) {
                            const utterance = new SpeechSynthesisUtterance(`Welcome back, ${user.name}!`);
                            speechSynthesis.speak(utterance);
                        }
                    } else {
                        ExerSync.ui.showToast('Invalid credentials!');
                    }
                },

                logout() {
                    localStorage.removeItem('ex_session');
                    ExerSync.ui.showToast('Logged out successfully');
                    ExerSync.ui.updateAuthUI();
                    ExerSync.ui.navigateTo('home');
                },

                isLoggedIn() {
                    return !!ExerSync.data.load('ex_session');
                }
            },

            // UI Management
            ui: {
                currentTestimonial: 0,

                navigateTo(page) {
                    // Hide all sections
                    document.querySelectorAll('section').forEach(section => {
                        section.classList.add('hidden');
                        section.classList.remove('visible');
                    });

                    // Show target section
                    const targetSection = document.getElementById(page);
                    if (targetSection) {
                        targetSection.classList.remove('hidden');
                        targetSection.classList.add('visible');
                        targetSection.scrollIntoView({ behavior: 'smooth' });
                    }

                    // Update nav active state
                    document.querySelectorAll('.nav-links a').forEach(link => {
                        link.classList.remove('active');
                        if (link.dataset.page === page) {
                            link.classList.add('active');
                        }
                    });

                    // Close mobile menu
                    document.getElementById('navLinks').classList.remove('active');
                    document.getElementById('hamburger').classList.remove('active');

                    // Special handling for dashboard
                    if (page === 'dashboard') {
                        if (!ExerSync.auth.isLoggedIn()) {
                            ExerSync.ui.showToast('Please login to view dashboard');
                            ExerSync.ui.navigateTo('login');
                        } else {
                            ExerSync.dashboard.render();
                        }
                    }
                },

                updateAuthUI() {
                    const authLink = document.getElementById('authLink');
                    if (ExerSync.auth.isLoggedIn()) {
                        authLink.textContent = 'Logout';
                        authLink.onclick = (e) => {
                            e.preventDefault();
                            ExerSync.auth.logout();
                        };
                    } else {
                        authLink.textContent = 'Login';
                        authLink.onclick = null;
                    }
                },

                showModal(content) {
                    document.getElementById('modalBody').innerHTML = content;
                    document.getElementById('modal').classList.add('active');
                },

                closeModal() {
                    document.getElementById('modal').classList.remove('active');
                },

                showToast(message, duration = 3000) {
                    const existingToast = document.querySelector('.toast');
                    if (existingToast) existingToast.remove();

                    const toast = document.createElement('div');
                    toast.className = 'toast';
                    toast.textContent = message;
                    toast.setAttribute('aria-live', 'polite');
                    document.body.appendChild(toast);

                    setTimeout(() => {
                        toast.classList.add('hide');
                        setTimeout(() => toast.remove(), 500);
                    }, duration);
                },

                showConfetti() {
                    const colors = ['#00FFFF', '#39FF14', '#FF00FF', '#FFD700'];
                    for (let i = 0; i < 50; i++) {
                        const confetti = document.createElement('div');
                        confetti.className = 'confetti';
                        confetti.style.left = Math.random() * 100 + 'vw';
                        confetti.style.top = '-10px';
                        confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                        confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                        document.body.appendChild(confetti);

                        const tx = (Math.random() - 0.5) * 200;
                        const ty = Math.random() * window.innerHeight + 100;
                        
                        confetti.animate([
                            { transform: `translate(0, 0) rotate(0deg)`, opacity: 1 },
                            { transform: `translate(${tx}px, ${ty}px) rotate(${Math.random() * 720}deg)`, opacity: 0 }
                        ], {
                            duration: 2000 + Math.random() * 1000,
                            easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
                        });

                        setTimeout(() => confetti.remove(), 3000);
                    }
                },

                nextTestimonial() {
                    const testimonials = document.querySelectorAll('.testimonial');
                    testimonials[this.currentTestimonial].classList.remove('active');
                    this.currentTestimonial = (this.currentTestimonial + 1) % testimonials.length;
                    testimonials[this.currentTestimonial].classList.add('active');
                },

                prevTestimonial() {
                    const testimonials = document.querySelectorAll('.testimonial');
                    testimonials[this.currentTestimonial].classList.remove('active');
                    this.currentTestimonial = (this.currentTestimonial - 1 + testimonials.length) % testimonials.length;
                    testimonials[this.currentTestimonial].classList.add('active');
                },

                subscribeNewsletter(event) {
                    event.preventDefault();
                    const email = document.getElementById('newsletterEmail').value;
                    const emails = ExerSync.data.load('ex_emails', []);
                    
                    if (!emails.includes(email)) {
                        emails.push(email);
                        ExerSync.data.save('ex_emails', emails);
                        ExerSync.ui.showToast('Thanks for subscribing!');
                        document.getElementById('newsletterEmail').value = '';
                    } else {
                        ExerSync.ui.showToast('Email already subscribed!');
                    }
                },

                toggleOrders() {
                    const ordersList = document.getElementById('ordersList');
                    if (ordersList.style.display === 'none') {
                        ExerSync.store.renderOrders();
                        ordersList.style.display = 'block';
                    } else {
                        ordersList.style.display = 'none';
                    }
                },

                animateValue(element, start, end, duration) {
                    const range = end - start;
                    const increment = range / (duration / 16);
                    let current = start;
                    
                    const timer = setInterval(() => {
                        current += increment;
                        if ((increment > 0 && current >= end) || (increment < 0 && current <= end)) {
                            current = end;
                            clearInterval(timer);
                        }
                        element.textContent = Math.round(current);
                    }, 16);
                }
            },

            // Workouts Management
            workouts: {
                library: [
                    { id: 1, name: 'Morning Yoga Flow', category: 'yoga', duration: 30, intensity: 'Low', coins: 25, xp: 50, emoji: 'üßò' },
                    { id: 2, name: 'HIIT Blast', category: 'hiit', duration: 20, intensity: 'High', coins: 40, xp: 80, emoji: 'üî•' },
                    { id: 3, name: 'Cardio Run', category: 'cardio', duration: 45, intensity: 'Medium', coins: 35, xp: 70, emoji: 'üèÉ' },
                    { id: 4, name: 'Strength Training', category: 'strength', duration: 60, intensity: 'High', coins: 50, xp: 100, emoji: 'üí™' },
                    { id: 5, name: 'Balance & Core', category: 'yoga', duration: 25, intensity: 'Low', coins: 20, xp: 40, emoji: '‚öñÔ∏è' }
                ],

                render(filter = 'all') {
                    const grid = document.getElementById('workoutsGrid');
                    const filtered = filter === 'all' ? this.library : this.library.filter(w => w.category === filter);
                    
                    grid.innerHTML = filtered.map(workout => `
                        <div class="card workout-card" data-category="${workout.category}">
                            <div class="workout-badge">${workout.intensity}</div>
                            <div style="font-size: 3rem; text-align: center; margin-bottom: 1rem;">${workout.emoji}</div>
                            <h3>${workout.name}</h3>
                            <p style="margin: 0.5rem 0;">‚è±Ô∏è ${workout.duration} minutes</p>
                            <p style="margin: 0.5rem 0;">üí∞ ${workout.coins} coins | ‚≠ê ${workout.xp} XP</p>
                            <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="ExerSync.workouts.start(${workout.id})">Start Workout</button>
                        </div>
                    `).join('');
                },

                start(id) {
                    const workout = this.library.find(w => w.id === id);
                    if (!workout) return;

                    const modalContent = `
                        <h2>${workout.name}</h2>
                        <div class="timer-display" id="timerDisplay">${workout.duration}:00</div>
                        <div style="text-align: center;">
                            <button class="btn btn-primary" onclick="ExerSync.workouts.startTimer(${workout.duration}, ${workout.coins}, ${workout.xp}, '${workout.name}')">Start Timer</button>
                            <button class="btn btn-secondary" style="margin-left: 1rem;" onclick="ExerSync.workouts.skipWorkout(${workout.coins}, ${workout.xp}, '${workout.name}')">Skip (Demo)</button>
                        </div>
                    `;
                    ExerSync.ui.showModal(modalContent);
                },

                startTimer(minutes, coins, xp, name) {
                    let seconds = minutes * 60;
                    const display = document.getElementById('timerDisplay');
                    
                    const timer = setInterval(() => {
                        seconds--;
                        const mins = Math.floor(seconds / 60);
                        const secs = seconds % 60;
                        display.textContent = `${mins}:${secs.toString().padStart(2, '0')}`;
                        
                        if (seconds <= 0) {
                            clearInterval(timer);
                            ExerSync.workouts.complete(coins, xp, name);
                        }
                    }, 1000);
                },

                skipWorkout(coins, xp, name) {
                    ExerSync.workouts.complete(coins, xp, name);
                },

                complete(coins, xp, name) {
                    // Update coins and XP
                    const currentCoins = ExerSync.data.load('ex_coins', 0);
                    const currentXP = ExerSync.data.load('ex_xp', 0);
                    ExerSync.data.save('ex_coins', currentCoins + coins);
                    ExerSync.data.save('ex_xp', currentXP + xp);

                    // Save workout history
                    const workouts = ExerSync.data.load('ex_workouts', []);
                    workouts.push({
                        name,
                        coins,
                        xp,
                        date: new Date().toISOString()
                    });
                    ExerSync.data.save('ex_workouts', workouts);

                    // Check achievements
                    ExerSync.achievements.check();

                    // Show completion
                    ExerSync.ui.closeModal();
                    ExerSync.ui.showToast(`Workout complete! +${coins} coins, +${xp} XP`);
                    ExerSync.ui.showConfetti();
                    
                    // Update coin display
                    const coinDisplay = document.getElementById('coinDisplay');
                    if (coinDisplay) {
                        coinDisplay.textContent = currentCoins + coins;
                    }
                }
            },

            // Store Management
            store: {
                products: [
                    { id: 1, name: 'Protein Shake', price: 50, emoji: 'ü•§' },
                    { id: 2, name: 'Skipping Rope', price: 75, emoji: 'ü™¢' },
                    { id: 3, name: 'Yoga Mat', price: 100, emoji: 'üßò‚Äç‚ôÄÔ∏è' },
                    { id: 4, name: 'Fitness T-Shirt', price: 150, emoji: 'üëï' },
                    { id: 5, name: 'Smartwatch', price: 500, emoji: '‚åö' }
                ],

                render() {
                    const grid = document.getElementById('productsGrid');
                    const coins = ExerSync.data.load('ex_coins', 0);
                    document.getElementById('coinDisplay').textContent = coins;

                    grid.innerHTML = this.products.map(product => `
                        <div class="card">
                            <div class="product-img">${product.emoji}</div>
                            <h3>${product.name}</h3>
                            <p style="font-size: 1.2rem; color: var(--accent-lime); margin: 1rem 0;">
                                <span class="coin-icon"></span> ${product.price} coins
                            </p>
                            <button class="btn ${coins >= product.price ? 'btn-primary' : 'btn-secondary'}" 
                                    ${coins < product.price ? 'disabled' : ''}
                                    onclick="ExerSync.store.redeem(${product.id})"
                                    style="width: 100%;">
                                ${coins >= product.price ? 'Redeem' : 'Not Enough Coins'}
                            </button>
                        </div>
                    `).join('');
                },

                redeem(id) {
                    const product = this.products.find(p => p.id === id);
                    if (!product) return;

                    const coins = ExerSync.data.load('ex_coins', 0);
                    if (coins < product.price) {
                        ExerSync.ui.showToast('Not enough coins!');
                        return;
                    }

                    const modalContent = `
                        <h2>Confirm Redemption</h2>
                        <p>Redeem <strong>${product.name}</strong> for <strong>${product.price} coins</strong>?</p>
                        <div style="text-align: center; margin-top: 2rem;">
                            <button class="btn btn-primary" onclick="ExerSync.store.confirmRedeem(${id})">Confirm</button>
                            <button class="btn btn-secondary" style="margin-left: 1rem;" onclick="ExerSync.ui.closeModal()">Cancel</button>
                        </div>
                    `;
                    ExerSync.ui.showModal(modalContent);
                },

                confirmRedeem(id) {
                    const product = this.products.find(p => p.id === id);
                    const coins = ExerSync.data.load('ex_coins', 0);
                    
                    ExerSync.data.save('ex_coins', coins - product.price);
                    
                    const orders = ExerSync.data.load('ex_orders', []);
                    orders.push({
                        product: product.name,
                        price: product.price,
                        date: new Date().toISOString()
                    });
                    ExerSync.data.save('ex_orders', orders);

                    ExerSync.ui.closeModal();
                    ExerSync.ui.showToast('Redeemed successfully!');
                    ExerSync.ui.showConfetti();
                    this.render();
                },

                renderOrders() {
                    const ordersList = document.getElementById('ordersList');
                    const orders = ExerSync.data.load('ex_orders', []);

                    if (orders.length === 0) {
                        ordersList.innerHTML = '<p style="text-align: center;">No orders yet!</p>';
                        return;
                    }

                    ordersList.innerHTML = orders.reverse().map(order => `
                        <div class="order-item">
                            <div>
                                <strong>${order.product}</strong>
                                <p style="font-size: 0.9rem; color: var(--accent-cyan); margin-top: 0.3rem;">
                                    ${new Date(order.date).toLocaleDateString()}
                                </p>
                            </div>
                            <div style="color: var(--accent-lime);">${order.price} coins</div>
                        </div>
                    `).join('');
                }
            },

            // Dashboard
            dashboard: {
                render() {
                    const content = document.getElementById('dashboardContent');
                    const user = ExerSync.data.load('ex_user');
                    const coins = ExerSync.data.load('ex_coins', 0);
                    const xp = ExerSync.data.load('ex_xp', 0);
                    const workouts = ExerSync.data.load('ex_workouts', []);
                    const level = Math.floor(xp / 100) + 1;
                    const xpForNext = ((level * 100) - xp);
                    const xpProgress = ((xp % 100) / 100) * 100;

                    content.innerHTML = `
                        <div class="dashboard-grid">
                            <div class="card dashboard-card user-profile">
                                <div class="user-avatar">${user.name.charAt(0)}</div>
                                <h3>${user.name}</h3>
                                <p style="color: var(--accent-cyan);">Level ${level}</p>
                                <div class="xp-bar">
                                    <div class="xp-fill" style="width: ${xpProgress}%"></div>
                                </div>
                                <p style="font-size: 0.9rem;">${xpForNext} XP to level ${level + 1}</p>
                                <p style="margin-top: 1rem; font-size: 1.2rem; color: var(--accent-lime);">
                                    <span class="coin-icon"></span> ${coins} coins
                                </p>
                                <button class="btn btn-secondary" style="margin-top: 1rem; width: 100%;" onclick="ExerSync.auth.logout()">Logout</button>
                            </div>

                            <div class="card dashboard-card">
                                <h3>Quick Stats</h3>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem;">
                                    <div style="text-align: center; padding: 1rem; background: var(--card-bg); border-radius: 8px;">
                                        <div style="font-size: 2rem; color: var(--accent-cyan);">${workouts.length}</div>
                                        <div style="font-size: 0.9rem;">Workouts</div>
                                    </div>
                                    <div style="text-align: center; padding: 1rem; background: var(--card-bg); border-radius: 8px;">
                                        <div style="font-size: 2rem; color: var(--accent-lime);">${level}</div>
                                        <div style="font-size: 0.9rem;">Level</div>
                                    </div>
                                </div>
                                <button class="btn btn-primary" style="width: 100%; margin-top: 1rem;" onclick="ExerSync.workouts.skipWorkout(10, 20, 'Quick Workout')">
                                    Quick Workout (+10 coins)
                                </button>
                                <button class="btn btn-secondary" style="width: 100%; margin-top: 0.5rem;" onclick="ExerSync.dashboard.exportProfile()">
                                    Export Profile
                                </button>
                            </div>

                            <div class="card dashboard-card">
                                <h3>Hydration Tracker</h3>
                                <p style="font-size: 0.9rem; margin-bottom: 1rem;">Target: 8 glasses/day</p>
                                <div class="hydration-tracker" id="hydrationTracker"></div>
                            </div>

                            <div class="card dashboard-card" style="grid-column: span 2;">
                                <h3>Weekly Activity</h3>
                                <div class="chart-container">
                                    <canvas id="activityChart"></canvas>
                                </div>
                            </div>
                        </div>
                    `;

                    this.renderHydration();
                    this.renderChart();
                },

                renderHydration() {
                    const tracker = document.getElementById('hydrationTracker');
                    const hydration = ExerSync.data.load('ex_hydration', Array(8).fill(false));
                    
                    tracker.innerHTML = hydration.map((filled, i) => `
                        <div class="water-glass ${filled ? 'filled' : ''}" onclick="ExerSync.dashboard.toggleGlass(${i})"></div>
                    `).join('');
                },

                toggleGlass(index) {
                    const hydration = ExerSync.data.load('ex_hydration', Array(8).fill(false));
                    hydration[index] = !hydration[index];
                    ExerSync.data.save('ex_hydration', hydration);
                    this.renderHydration();
                },

                renderChart() {
                    const canvas = document.getElementById('activityChart');
                    const ctx = canvas.getContext('2d');
                    const workouts = ExerSync.data.load('ex_workouts', []);
                    
                    // Get last 7 days
                    const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
                    const data = Array(7).fill(0);
                    
                    // Count workouts per day (mock data for demo)
                    const mockData = [2, 3, 1, 4, 2, 3, 5];
                    
                    // Clear canvas
                    canvas.width = canvas.offsetWidth;
                    canvas.height = canvas.offsetHeight;
                    
                    // Draw chart
                    const barWidth = canvas.width / 7 - 20;
                    const maxHeight = canvas.height - 40;
                    const maxValue = Math.max(...mockData, 1);
                    
                    ctx.fillStyle = '#fff';
                    ctx.font = '12px Poppins';
                    
                    mockData.forEach((value, i) => {
                        const barHeight = (value / maxValue) * maxHeight;
                        const x = i * (barWidth + 20) + 10;
                        const y = canvas.height - barHeight - 20;
                        
                        // Draw bar
                        const gradient = ctx.createLinearGradient(0, y, 0, canvas.height);
                        gradient.addColorStop(0, '#00FFFF');
                        gradient.addColorStop(1, '#39FF14');
                        ctx.fillStyle = gradient;
                        ctx.fillRect(x, y, barWidth, barHeight);
                        
                        // Draw label
                        ctx.fillStyle = '#fff';
                        ctx.textAlign = 'center';
                        ctx.fillText(days[i], x + barWidth / 2, canvas.height - 5);
                        ctx.fillText(value, x + barWidth / 2, y - 5);
                    });
                },

                exportProfile() {
                    const data = {
                        user: ExerSync.data.load('ex_user'),
                        coins: ExerSync.data.load('ex_coins'),
                        xp: ExerSync.data.load('ex_xp'),
                        workouts: ExerSync.data.load('ex_workouts'),
                        achievements: ExerSync.data.load('ex_achievements')
                    };
                    
                    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'exersync-profile.json';
                    a.click();
                    URL.revokeObjectURL(url);
                    
                    ExerSync.ui.showToast('Profile exported!');
                }
            },

            // Nutrition
            nutrition: {
                calculateCalories() {
                    const age = parseFloat(document.getElementById('calcAge').value);
                    const gender = document.getElementById('calcGender').value;
                    const height = parseFloat(document.getElementById('calcHeight').value);
                    const weight = parseFloat(document.getElementById('calcWeight').value);
                    const activity = parseFloat(document.getElementById('calcActivity').value);

                    if (!age || !height || !weight) {
                        ExerSync.ui.showToast('Please fill all fields');
                        return;
                    }

                    // Mifflin-St Jeor Equation
                    let bmr;
                    if (gender === 'male') {
                        bmr = 10 * weight + 6.25 * height - 5 * age + 5;
                    } else {
                        bmr = 10 * weight + 6.25 * height - 5 * age - 161;
                    }

                    const tdee = bmr * activity;

                    const results = document.getElementById('calorieResults');
                    results.style.display = 'block';
                    
                    const bmrEl = document.getElementById('bmrValue');
                    const tdeeEl = document.getElementById('tdeeValue');
                    
                    ExerSync.ui.animateValue(bmrEl, 0, Math.round(bmr), 1000);
                    ExerSync.ui.animateValue(tdeeEl, 0, Math.round(tdee), 1000);
                },

                calculateBMI() {
                    const height = parseFloat(document.getElementById('bmiHeight').value) / 100; // Convert to meters
                    const weight = parseFloat(document.getElementById('bmiWeight').value);

                    if (!height || !weight) {
                        ExerSync.ui.showToast('Please fill all fields');
                        return;
                    }

                    const bmi = weight / (height * height);
                    const results = document.getElementById('bmiResults');
                    results.style.display = 'block';

                    const bmiEl = document.getElementById('bmiValue');
                    ExerSync.ui.animateValue(bmiEl, 0, bmi, 1000);

                    let category = '';
                    if (bmi < 18.5) category = 'Underweight';
                    else if (bmi < 25) category = 'Normal weight';
                    else if (bmi < 30) category = 'Overweight';
                    else category = 'Obese';

                    document.getElementById('bmiCategory').innerHTML = `<strong>Category:</strong> ${category}`;
                },

                initMealPlanner() {
                    const tbody = document.querySelector('#mealTable tbody');
                    const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
                    const meals = ExerSync.data.load('ex_meals', {});

                    tbody.innerHTML = days.map(day => `
                        <tr>
                            <td><strong>${day}</strong></td>
                            <td><input type="text" data-day="${day}" data-meal="breakfast" value="${meals[day]?.breakfast || ''}" placeholder="Breakfast"></td>
                            <td><input type="text" data-day="${day}" data-meal="lunch" value="${meals[day]?.lunch || ''}" placeholder="Lunch"></td>
                            <td><input type="text" data-day="${day}" data-meal="dinner" value="${meals[day]?.dinner || ''}" placeholder="Dinner"></td>
                        </tr>
                    `).join('');
                },

                saveMealPlan() {
                    const meals = {};
                    const inputs = document.querySelectorAll('#mealTable input');
                    
                    inputs.forEach(input => {
                        const day = input.dataset.day;
                        const meal = input.dataset.meal;
                        if (!meals[day]) meals[day] = {};
                        meals[day][meal] = input.value;
                    });

                    ExerSync.data.save('ex_meals', meals);
                    ExerSync.ui.showToast('Meal plan saved!');
                },

                speakNutritionTip() {
                    if (!('speechSynthesis' in window)) {
                        ExerSync.ui.showToast('Speech not supported in your browser');
                        return;
                    }

                    const tips = [
                        'Stay hydrated by drinking at least 8 glasses of water daily.',
                        'Include protein in every meal to support muscle recovery.',
                        'Eat a rainbow of fruits and vegetables for optimal nutrition.',
                        'Plan your meals ahead to avoid unhealthy choices.',
                        'Listen to your body and eat when you are hungry.'
                    ];

                    const tip = tips[Math.floor(Math.random() * tips.length)];
                    const utterance = new SpeechSynthesisUtterance(tip);
                    speechSynthesis.speak(utterance);
                    ExerSync.ui.showToast('Playing nutrition tip...');
                }
            },

            // Achievements
            achievements: {
                list: [
                    { id: 1, name: 'First Workout', description: 'Complete your first workout', condition: 'workouts', threshold: 1, emoji: 'üéØ' },
                    { id: 2, name: '100 Coins', description: 'Earn 100 coins', condition: 'coins', threshold: 100, emoji: 'üí∞' },
                    { id: 3, name: 'Consistency Hero', description: 'Complete 5 workouts', condition: 'workouts', threshold: 5, emoji: 'üî•' },
                    { id: 4, name: 'Level Master', description: 'Reach level 5', condition: 'level', threshold: 5, emoji: '‚≠ê' },
                    { id: 5, name: 'Coin Collector', description: 'Earn 500 coins total', condition: 'coins', threshold: 500, emoji: 'üíé' },
                    { id: 6, name: 'Workout Warrior', description: 'Complete 10 workouts', condition: 'workouts', threshold: 10, emoji: 'üí™' }
                ],

                render() {
                    const grid = document.getElementById('achievementsGrid');
                    const unlocked = ExerSync.data.load('ex_achievements', []);

                    grid.innerHTML = this.list.map(achievement => {
                        const isUnlocked = unlocked.includes(achievement.id);
                        const progress = this.getProgress(achievement);
                        const progressDeg = Math.min((progress / achievement.threshold) * 360, 360);

                        return `
                            <div class="achievement-badge ${isUnlocked ? 'unlocked' : 'locked'}">
                                <div class="badge-ring" style="background: conic-gradient(var(--accent-cyan) ${progressDeg}deg, transparent 0deg);">
                                    <div class="badge-icon">${achievement.emoji}</div>
                                </div>
                                <h3 style="margin-top: 1rem;">${achievement.name}</h3>
                                <p style="font-size: 0.9rem; color: var(--accent-cyan);">${achievement.description}</p>
                                <p style="font-size: 0.8rem; margin-top: 0.5rem;">
                                    ${isUnlocked ? '‚úÖ Unlocked!' : `${progress}/${achievement.threshold}`}
                                </p>
                            </div>
                        `;
                    }).join('');
                },

                getProgress(achievement) {
                    switch (achievement.condition) {
                        case 'workouts':
                            return ExerSync.data.load('ex_workouts', []).length;
                        case 'coins':
                            return ExerSync.data.load('ex_coins', 0);
                        case 'level':
                            const xp = ExerSync.data.load('ex_xp', 0);
                            return Math.floor(xp / 100) + 1;
                        default:
                            return 0;
                    }
                },

                check() {
                    const unlocked = ExerSync.data.load('ex_achievements', []);
                    let newUnlocks = [];

                    this.list.forEach(achievement => {
                        if (!unlocked.includes(achievement.id)) {
                            const progress = this.getProgress(achievement);
                            if (progress >= achievement.threshold) {
                                unlocked.push(achievement.id);
                                newUnlocks.push(achievement);
                            }
                        }
                    });

                    if (newUnlocks.length > 0) {
                        ExerSync.data.save('ex_achievements', unlocked);
                        newUnlocks.forEach(achievement => {
                            setTimeout(() => {
                                ExerSync.ui.showModal(`
                                    <div style="text-align: center;">
                                        <div style="font-size: 5rem; margin-bottom: 1rem;">${achievement.emoji}</div>
                                        <h2>Achievement Unlocked!</h2>
                                        <h3 style="color: var(--accent-cyan); margin: 1rem 0;">${achievement.name}</h3>
                                        <p>${achievement.description}</p>
                                        <button class="btn btn-primary" style="margin-top: 2rem;" onclick="ExerSync.ui.closeModal()">Awesome!</button>
                                    </div>
                                `);
                                ExerSync.ui.showConfetti();
                            }, 500);
                        });
                    }
                }
            },

            // Contact
            contact: {
                submitForm(event) {
                    event.preventDefault();
                    
                    const name = document.getElementById('contactName').value;
                    const email = document.getElementById('contactEmail').value;
                    const message = document.getElementById('contactMessage').value;

                    const messages = ExerSync.data.load('ex_messages', []);
                    messages.push({
                        name,
                        email,
                        message,
                        date: new Date().toISOString()
                    });
                    ExerSync.data.save('ex_messages', messages);

                    ExerSync.ui.showToast('Message sent! We\'ll get back to you soon.');
                    
                    // Clear form
                    document.getElementById('contactName').value = '';
                    document.getElementById('contactEmail').value = '';
                    document.getElementById('contactMessage').value = '';

                    // Animate success
                    event.target.style.animation = 'fadeInUp 0.6s ease';
                }
            },

            // Dev Tools
            dev: {
                addCoins(amount) {
                    const coins = ExerSync.data.load('ex_coins', 0);
                    ExerSync.data.save('ex_coins', coins + amount);
                    ExerSync.ui.showToast(`Added ${amount} coins!`);
                    if (document.getElementById('coinDisplay')) {
                        document.getElementById('coinDisplay').textContent = coins + amount;
                    }
                },

                resetData() {
                    if (confirm('Are you sure you want to reset all data?')) {
                        ExerSync.data.reset();
                    }
                },

                unlockAll() {
                    const allIds = ExerSync.achievements.list.map(a => a.id);
                    ExerSync.data.save('ex_achievements', allIds);
                    ExerSync.ui.showToast('All achievements unlocked!');
                    if (document.querySelector('[data-page="achievements"]').classList.contains('visible')) {
                        ExerSync.achievements.render();
                    }
                }
            },

            // Initialize
            init() {
                console.log('ExerSync frontend ready');

                // Setup navigation
                document.querySelectorAll('.nav-links a').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const page = link.dataset.page;
                        ExerSync.ui.navigateTo(page);
                    });
                });

                // Hamburger menu
                const hamburger = document.getElementById('hamburger');
                const navLinks = document.getElementById('navLinks');
                hamburger.addEventListener('click', () => {
                    hamburger.classList.toggle('active');
                    navLinks.classList.toggle('active');
                });

                // Auth tabs
                document.querySelectorAll('.auth-tab').forEach(tab => {
                    tab.addEventListener('click', () => {
                        document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
                        document.querySelectorAll('.auth-form-content').forEach(c => c.classList.remove('active'));
                        
                        tab.classList.add('active');
                        const targetForm = tab.dataset.tab === 'login' ? 'loginForm' : 'signupForm';
                        document.getElementById(targetForm).classList.add('active');
                    });
                });

                // Filter buttons
                document.addEventListener('click', (e) => {
                    if (e.target.classList.contains('filter-btn')) {
                        document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
                        e.target.classList.add('active');
                        ExerSync.workouts.render(e.target.dataset.filter);
                    }
                });

                // Modal close on ESC
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        ExerSync.ui.closeModal();
                    }
                });

                // Dev panel toggle (Ctrl+Shift+D)
                document.addEventListener('keydown', (e) => {
                    if (e.ctrlKey && e.shiftKey && e.key === 'D') {
                        e.preventDefault();
                        const panel = document.getElementById('devPanel');
                        panel.classList.toggle('active');
                    }
                });

                // Intersection Observer for animations
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                            
                            // Animate progress bars
                            if (entry.target.id === 'about') {
                                document.querySelectorAll('.progress-fill').forEach(bar => {
                                    const progress = bar.dataset.progress;
                                    setTimeout(() => {
                                        bar.style.width = progress + '%';
                                    }, 300);
                                });
                            }
                        }
                    });
                }, { threshold: 0.1 });

                document.querySelectorAll('section').forEach(section => {
                    observer.observe(section);
                });

                // Typing animation for hero
                const phrases = [
                    'Train smarter, not harder',
                    'Earn ExerCoins with every workout',
                    'Track your growth journey',
                    'Unlock amazing rewards'
                ];
                let phraseIndex = 0;
                let charIndex = 0;
                let isDeleting = false;
                const typingElement = document.querySelector('.typing-text');

                function typeEffect() {
                    const currentPhrase = phrases[phraseIndex];
                    
                    if (isDeleting) {
                        typingElement.textContent = currentPhrase.substring(0, charIndex - 1);
                        charIndex--;
                    } else {
                        typingElement.textContent = currentPhrase.substring(0, charIndex + 1);
                        charIndex++;
                    }

                    let delay = isDeleting ? 50 : 100;

                    if (!isDeleting && charIndex === currentPhrase.length) {
                        delay = 2000;
                        isDeleting = true;
                    } else if (isDeleting && charIndex === 0) {
                        isDeleting = false;
                        phraseIndex = (phraseIndex + 1) % phrases.length;
                        delay = 500;
                    }

                    setTimeout(typeEffect, delay);
                }

                typeEffect();

                // Auto-rotate testimonials
                setInterval(() => {
                    ExerSync.ui.nextTestimonial();
                }, 5000);

                // Update auth UI
                ExerSync.ui.updateAuthUI();

                // Render initial data
                ExerSync.workouts.render();
                ExerSync.store.render();
                ExerSync.achievements.render();
                ExerSync.nutrition.initMealPlanner();

                // Check if logged in and show dashboard
                if (ExerSync.auth.isLoggedIn()) {
                    const session = ExerSync.data.load('ex_session');
                    const timeSinceLogin = Date.now() - session.timestamp;
                    
                    // Session expires after 24 hours
                    if (timeSinceLogin > 24 * 60 * 60 * 1000) {
                        ExerSync.auth.logout();
                    }
                }

                // Handle initial navigation from URL hash
                const hash = window.location.hash.substring(1);
                if (hash) {
                    setTimeout(() => ExerSync.ui.navigateTo(hash), 100);
                }

                // Seed demo data if first time
                if (!ExerSync.data.load('ex_coins') && ExerSync.data.load('ex_coins') !== 0) {
                    ExerSync.data.save('ex_coins', 0);
                    ExerSync.data.save('ex_xp', 0);
                    ExerSync.data.save('ex_workouts', []);
                    ExerSync.data.save('ex_achievements', []);
                }
            }
        };

        // Auto-initialize on DOM ready
        document.addEventListener('DOMContentLoaded', ExerSync.init);
    </script>
</body>
</html>
